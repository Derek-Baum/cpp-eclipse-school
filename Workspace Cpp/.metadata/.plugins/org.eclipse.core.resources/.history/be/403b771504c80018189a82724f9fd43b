/*
 * SLL.cpp
 *
 *  Created on: Oct 2, 2018
 *      Author: Derek Baum
 */
#include <iostream>
#include "SLL.hpp"

using namespace std;
/*
 * constructor for linked list
 * initializes first and last to NULL,
 * and the size to 0
 */
SLL::SLL(){
	first = NULL;
	last = NULL;
	size = 0;
}
/*
 * linked list destructor
 * deletes every node with a while lope.
 */
SLL::~SLL(){
	SNode *tmp = first;
	while(tmp != NULL){
		SNode *next = tmp->next;
		tmp->~SNode();
		tmp = next;
	}
	cout<<"deleted each node in ll"<<endl;
}
/*
 * calls printNode on every node in the linked list
 */
void SLL::printSLL(){
	SNode *tmp = first;
	while(tmp != NULL){
		tmp->printNode();
		tmp = tmp->next;
	}
	cout<<endl;
}
/*
 *
 */
void SLL::insertInOrder(int r, string c){
	if(first == NULL){
		addFirst(r,c);
	}else if(first->rating > r){
		addAtFront(r,c);
	}else if(r > last->rating){
		push(r,c);
	}else{
		SNode *tmp = first;
		while(tmp->next->rating < r){
			tmp = tmp->next;
		}
		//4 8 9
		//4 5 8 9
		SNode *tmp2 = tmp->next;
		tmp->next = new SNode(r,c);
		tmp->next->next = tmp2;
		size++;
	}
}
void SLL::push(int r, string c){
	SNode *tmp = new SNode(r,c);
	last->next = tmp;
	size++;
	last = tmp;
	/*
	SNode *tmp = first;
	while(tmp->next!=NULL){
		tmp=tmp->next;
	}
	tmp->next = new SNode(r,c);
	last = tmp->next;
	size++;
	*/
}
void SLL::addAtFront(int r, string c){
	SNode *tmp = new SNode(r,c);
	tmp->next = first;
	first = tmp;
	size++;
}
void SLL::addFirst(int r, string c){
	first = new SNode(r,c);
	last = first;
	size++;
}
//0,1,2,3
int SLL::pop(){
	int rat = last->rating;
	cout<<"removing "<<rat<<", "<<last->comments<<endl;
	SNode *tmp = first;
	while(tmp->next->next!=NULL){
		tmp = tmp->next;
	}
	last = tmp;
	last->next->~SNode();
	last->next = NULL;
	size--;
	return rat;
	//i dont think this works tbh but idk.
}
double SLL::getAve(){
	double sum = 0;
	SNode *tmp = first;
	while(tmp != NULL){
		sum+=tmp->rating;
		tmp=tmp->next;
	}
	return sum/((double)size);
}
